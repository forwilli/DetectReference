<!DOCTYPE html>
<html>
<head>
    <title>Deployment Check</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .result { margin: 10px 0; padding: 10px; border-radius: 5px; background: #f8f9fa; }
        pre { background: #f1f1f1; padding: 10px; border-radius: 3px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>üîç Deployment Check</h1>
    <div id="results"></div>
    
    <script>
        function addResult(message) {
            const div = document.createElement('div');
            div.className = 'result';
            div.innerHTML = message;
            document.getElementById('results').appendChild(div);
        }
        
        async function checkDeployment() {
            try {
                // Fetch the production HTML
                const response = await fetch('https://detect-reference-frontend.vercel.app/');
                const html = await response.text();
                
                // Check for FixedReferenceInput
                if (html.includes('FixedReferenceInput')) {
                    addResult('‚úÖ <strong>FixedReferenceInput found in production HTML</strong>');
                } else {
                    addResult('‚ùå <strong>FixedReferenceInput NOT found in production HTML</strong>');
                }
                
                // Check for ReferenceInput
                if (html.includes('ReferenceInput')) {
                    addResult('‚ö†Ô∏è <strong>ReferenceInput still found in production HTML</strong>');
                } else {
                    addResult('‚úÖ <strong>ReferenceInput not found in production HTML</strong>');
                }
                
                // Check for version
                if (html.includes('0.0.3')) {
                    addResult('‚úÖ <strong>Version 0.0.3 found - latest version deployed</strong>');
                } else {
                    addResult('‚ùå <strong>Version 0.0.3 NOT found - may be cached version</strong>');
                }
                
                // Look for specific strings from our components
                if (html.includes('handleVerify')) {
                    addResult('‚úÖ <strong>handleVerify function found in production</strong>');
                } else {
                    addResult('‚ùå <strong>handleVerify function NOT found in production</strong>');
                }
                
                // Check for React 18 patterns
                if (html.includes('React')) {
                    addResult('‚úÖ <strong>React found in production</strong>');
                } else {
                    addResult('‚ùå <strong>React NOT found in production</strong>');
                }
                
                addResult('<hr><strong>Sample of production HTML:</strong>');
                const sample = html.substring(0, 2000);
                addResult(`<pre>${sample.replace(/</g, '&lt;').replace(/>/g, '&gt;')}</pre>`);
                
            } catch (error) {
                addResult(`‚ùå <strong>Error checking deployment: ${error.message}</strong>`);
            }
        }
        
        checkDeployment();
    </script>
</body>
</html>